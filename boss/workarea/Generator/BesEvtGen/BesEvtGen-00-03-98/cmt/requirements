author Alexey Zhemchugov, Rong-Gang Ping
use BesPolicy      BesPolicy-*
use BesServices    BesServices-*       Control
use CERNLIB          CERNLIB-*         External
use GeneratorObject  GeneratorObject-* Generator
#use BesEvtGen       BesEvtGen-*        Generator
use PartPropSvc      *
use HepMC            *               LCG_Interfaces
use DataInfoSvc     DataInfoSvc-*       Control
use DatabaseSvc          DatabaseSvc-*       Database
use BesROOT          BesROOT-*         External
use BesCLHEP         BesCLHEP-*        External

macro_append BesEvtGen_fflags " -w -O3 -fPIC -ff2c -fno-automatic  -g -O -fno-automatic -ffixed-line-length-132 -fbackslash -finit-local-zero"
macro_append BesEvtGen_cppflags " -w -O3 -fPIC -DHAVE_CONFIG_H -D_USE_XOPEN2K8 -Df2cFortran"
macro_remove fflags "-fmessage-length=0 2"

macro_append HepMC_linkopts "-L$(HepMC_home)/lib -lHepMCfio "

library BesEvtGen ../src/EvtGen/EvtGenModels/ranlux_fort.c  ../src/EvtGen/EvtGenModels/ranlxd.c ../src/phokhara/eemmg-lib/eemmg5/*.f ../src/phokhara/eemmg-lib/eemmgisr/*.f ../src/phokhara/eemmg-lib/eemmgisrfsr/*.f ../src/phokhara/eemmg-lib/eemmgmix/*.f ../src/phokhara/eemmg-lib/ff/*.f ../src/phokhara/eemmg-lib/ql/*.f ../src/phokhara/eemmg-lib/src/*.cpp

apply_pattern dual_use_library files="EvtDecay.cxx ReadME.cxx  \
                                      ../components/*.cxx  ../src/EvtGen/EvtGenBase/*.cc \
                                      ../src/EvtGen/EvtGenModels/*.cc  ../src/EvtGen/EvtGenModels/*.F \
                                      ../src/EvtGen/EvtGen.cc  ../user/*.F ../user/*.cc" 

include_dirs $(BesEvtGen_root)/EvtGen_i \
	     $(BesEvtGen_root)/user \
             $(BesEvtGen_root)/src/EvtGen \
             $(BesEvtGen_root)/src/EvtGen/EvtGenBase \
             $(BesEvtGen_root)/src/EvtGen/EvtGenModels 
               
macro_append BesEvtGenLib_linkopts " $(EvtGen_linkopts) -lBesEvtGen" 
macro_append BesEvtGen_linkopts " -L$(bin)  $(EvtGen_linkopts) -lm "
macro BesEvtGen_linkopts " -lDataInfoSvc "

#apply_pattern component_library
apply_pattern declare_runtime extras="*.dat  *.DAT *.DEC *.table *.txt *.root" 

macro_append BesEvtGen_cppflags " -DEVTSTANDALONE "

